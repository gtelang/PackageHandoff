<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-----------------------------------------------------------------------------
    reactive-banana
------------------------------------------------------------------------------}</span><span>
</span><a name="line-4"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Reactive</span><span class="hs-operator">.</span><span class="hs-identifier">Banana</span><span class="hs-operator">.</span><span class="hs-identifier">Types</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-5"></a><span>    </span><span class="hs-comment">-- | Primitive types.</span><span>
</span><a name="line-6"></a><span>    </span><a href="Reactive.Banana.Types.html#Event"><span class="hs-identifier hs-type">Event</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Reactive.Banana.Types.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-7"></a><span>    </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Reactive.Banana.Types.html#MonadMoment"><span class="hs-identifier hs-type">MonadMoment</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-8"></a><span>    </span><a href="Reactive.Banana.Types.html#Future"><span class="hs-identifier hs-type">Future</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-9"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Applicative</span><span>
</span><a name="line-12"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span>
</span><a name="line-13"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">IO</span><span class="hs-operator">.</span><span class="hs-identifier">Class</span><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">Fix</span><span>
</span><a name="line-15"></a><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html"><span class="hs-identifier">Reactive</span><span class="hs-operator">.</span><span class="hs-identifier">Banana</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span class="hs-operator">.</span><span class="hs-identifier">Combinators</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Prim</span><span>
</span><a name="line-17"></a><span>
</span><a name="line-18"></a><span class="hs-comment">{-----------------------------------------------------------------------------
    Types
------------------------------------------------------------------------------}</span><span>
</span><a name="line-21"></a><span>
</span><a name="line-22"></a><span class="hs-comment">{-| @Event a@ represents a stream of events as they occur in time.
Semantically, you can think of @Event a@ as an infinite list of values
that are tagged with their corresponding time of occurrence,

&gt; type Event a = [(Time,a)]

Each pair is called an /event occurrence/.
Note that within a single event stream,
no two event occurrences may happen at the same time.

&lt;&lt;doc/frp-event.png&gt;&gt;
-}</span><span>
</span><a name="line-34"></a><span class="hs-keyword">newtype</span><span> </span><a name="Event"><a href="Reactive.Banana.Types.html#Event"><span class="hs-identifier">Event</span></a></a><span> </span><a name="local-1627451414"><a href="#local-1627451414"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="E"><a href="Reactive.Banana.Types.html#E"><span class="hs-identifier">E</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unE"><a href="Reactive.Banana.Types.html#unE"><span class="hs-identifier">unE</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#Event"><span class="hs-identifier hs-type">Prim</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Event</span></a><span> </span><a href="#local-1627451414"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-35"></a><span class="hs-comment">-- Invariant: The empty list `[]` never occurs as event value.</span><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span class="hs-comment">-- | The function 'fmap' applies a function @f@ to every value.</span><span>
</span><a name="line-38"></a><span class="hs-comment">-- Semantically,</span><span>
</span><a name="line-39"></a><span class="hs-comment">--</span><span>
</span><a name="line-40"></a><span class="hs-comment">-- &gt; fmap :: (a -&gt; b) -&gt; Event a -&gt; Event b</span><span>
</span><a name="line-41"></a><span class="hs-comment">-- &gt; fmap f e = [(time, f a) | (time, a) &lt;- e]</span><span>
</span><a name="line-42"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="Reactive.Banana.Types.html#Event"><span class="hs-identifier hs-type">Event</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-43"></a><span>    </span><a name="local-805306541"><span class="hs-identifier">fmap</span></a><span> </span><a name="local-1627451435"><a href="#local-1627451435"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#E"><span class="hs-identifier hs-var">E</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#mapE"><span class="hs-identifier hs-var">Prim</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">mapE</span></a><span> </span><a href="#local-1627451435"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">unE</span><span>
</span><a name="line-44"></a><span>
</span><a name="line-45"></a><span>
</span><a name="line-46"></a><span class="hs-comment">{-| @Behavior a@ represents a value that varies in time.
Semantically, you can think of it as a function

&gt; type Behavior a = Time -&gt; a

&lt;&lt;doc/frp-behavior.png&gt;&gt;
-}</span><span>
</span><a name="line-53"></a><span class="hs-keyword">newtype</span><span> </span><a name="Behavior"><a href="Reactive.Banana.Types.html#Behavior"><span class="hs-identifier">Behavior</span></a></a><span> </span><a name="local-1627451413"><a href="#local-1627451413"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="B"><a href="Reactive.Banana.Types.html#B"><span class="hs-identifier">B</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unB"><a href="Reactive.Banana.Types.html#unB"><span class="hs-identifier">unB</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#Behavior"><span class="hs-identifier hs-type">Prim</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Behavior</span></a><span> </span><a href="#local-1627451413"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-54"></a><span>
</span><a name="line-55"></a><span class="hs-comment">-- | The function 'pure' returns a value that is constant in time. Semantically,</span><span>
</span><a name="line-56"></a><span class="hs-comment">--</span><span>
</span><a name="line-57"></a><span class="hs-comment">-- &gt; pure     :: a -&gt; Behavior a</span><span>
</span><a name="line-58"></a><span class="hs-comment">-- &gt; pure x    = \time -&gt; x</span><span>
</span><a name="line-59"></a><span class="hs-comment">--</span><span>
</span><a name="line-60"></a><span class="hs-comment">-- The combinator '&lt;*&gt;' applies a time-varying function to a time-varying value.</span><span>
</span><a name="line-61"></a><span class="hs-comment">--</span><span>
</span><a name="line-62"></a><span class="hs-comment">-- &gt; (&lt;*&gt;)    :: Behavior (a -&gt; b) -&gt; Behavior a -&gt; Behavior b</span><span>
</span><a name="line-63"></a><span class="hs-comment">-- &gt; fx &lt;*&gt; bx = \time -&gt; fx time $ bx time</span><span>
</span><a name="line-64"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Applicative</span><span> </span><a href="Reactive.Banana.Types.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-65"></a><span>    </span><a name="local-805307120"><span class="hs-identifier">pure</span></a><span> </span><a name="local-1627451432"><a href="#local-1627451432"><span class="hs-identifier">x</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#B"><span class="hs-identifier hs-var">B</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#pureB"><span class="hs-identifier hs-var">Prim</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">pureB</span></a><span> </span><a href="#local-1627451432"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-66"></a><span>    </span><a name="local-1627451433"><a href="#local-1627451433"><span class="hs-identifier">bf</span></a></a><span> </span><a name="local-805307119"><span class="hs-operator">&lt;*&gt;</span></a><span> </span><a name="local-1627451434"><a href="#local-1627451434"><span class="hs-identifier">bx</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#B"><span class="hs-identifier hs-var">B</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#applyB"><span class="hs-identifier hs-var">Prim</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">applyB</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">unB</span><span> </span><a href="#local-1627451433"><span class="hs-identifier hs-var">bf</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unB</span><span> </span><a href="#local-1627451434"><span class="hs-identifier hs-var">bx</span></a><span class="hs-special">)</span><span>
</span><a name="line-67"></a><span>
</span><a name="line-68"></a><span class="hs-comment">-- | The function 'fmap' applies a function @f@ at every point in time.</span><span>
</span><a name="line-69"></a><span class="hs-comment">-- Semantically,</span><span>
</span><a name="line-70"></a><span class="hs-comment">--</span><span>
</span><a name="line-71"></a><span class="hs-comment">-- &gt; fmap :: (a -&gt; b) -&gt; Behavior a -&gt; Behavior b</span><span>
</span><a name="line-72"></a><span class="hs-comment">-- &gt; fmap f b = \time -&gt; f (b time)</span><span>
</span><a name="line-73"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="Reactive.Banana.Types.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-74"></a><span>    </span><a name="local-805306541"><span class="hs-identifier">fmap</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">liftA</span><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span>
</span><a name="line-77"></a><span class="hs-comment">-- | The 'Future' monad is just a helper type for the 'changes' function.</span><span>
</span><a name="line-78"></a><span class="hs-comment">--</span><span>
</span><a name="line-79"></a><span class="hs-comment">-- A value of type @Future a@ is only available in the context</span><span>
</span><a name="line-80"></a><span class="hs-comment">-- of a 'reactimate' but not during event processing.</span><span>
</span><a name="line-81"></a><span class="hs-keyword">newtype</span><span> </span><a name="Future"><a href="Reactive.Banana.Types.html#Future"><span class="hs-identifier">Future</span></a></a><span> </span><a name="local-1627451412"><a href="#local-1627451412"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="F"><a href="Reactive.Banana.Types.html#F"><span class="hs-identifier">F</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unF"><a href="Reactive.Banana.Types.html#unF"><span class="hs-identifier">unF</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#Future"><span class="hs-identifier hs-type">Prim</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Future</span></a><span> </span><a href="#local-1627451412"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-82"></a><span>
</span><a name="line-83"></a><span class="hs-comment">-- boilerplate class instances</span><span>
</span><a name="line-84"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="Reactive.Banana.Types.html#Future"><span class="hs-identifier hs-type">Future</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-805306541"><span class="hs-identifier">fmap</span></a><span> </span><a name="local-1627451431"><a href="#local-1627451431"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#F"><span class="hs-identifier hs-var">F</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-1627451431"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">unF</span><span>
</span><a name="line-85"></a><span>
</span><a name="line-86"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="Reactive.Banana.Types.html#Future"><span class="hs-identifier hs-type">Future</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-87"></a><span>    </span><a name="local-805306542"><span class="hs-identifier">return</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#F"><span class="hs-identifier hs-var">F</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">return</span><span>
</span><a name="line-88"></a><span>    </span><a name="local-1627451429"><a href="#local-1627451429"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-805306539"><span class="hs-operator">&gt;&gt;=</span></a><span> </span><a name="local-1627451430"><a href="#local-1627451430"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#F"><span class="hs-identifier hs-var">F</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unF</span><span> </span><a href="#local-1627451429"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier">unF</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-1627451430"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Applicative</span><span> </span><a href="Reactive.Banana.Types.html#Future"><span class="hs-identifier hs-type">Future</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-91"></a><span>    </span><a name="local-805307120"><span class="hs-identifier">pure</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#F"><span class="hs-identifier hs-var">F</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">pure</span><span>
</span><a name="line-92"></a><span>    </span><a name="local-1627451427"><a href="#local-1627451427"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-805307119"><span class="hs-operator">&lt;*&gt;</span></a><span> </span><a name="local-1627451428"><a href="#local-1627451428"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#F"><span class="hs-identifier hs-var">F</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unF</span><span> </span><a href="#local-1627451427"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><span class="hs-identifier">unF</span><span> </span><a href="#local-1627451428"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span>
</span><a name="line-95"></a><span class="hs-comment">{-| The 'Moment' monad denotes a /pure/ computation that happens
at one particular moment in time. Semantically, it is a reader monad

&gt; type Moment a = Time -&gt; a

When run, the argument tells the time at which this computation happens.

Note that in this context, /time/ really means to /logical time/.
Of course, every calculation on a computer takes some
amount of wall-clock time to complete.
Instead, what is meant here is the time as it relates to
'Event's and 'Behavior's.
We use the fiction that every calculation within the 'Moment'
monad takes zero /logical time/ to perform.
-}</span><span>
</span><a name="line-110"></a><span class="hs-keyword">newtype</span><span> </span><a name="Moment"><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier">Moment</span></a></a><span> </span><a name="local-1627451411"><a href="#local-1627451411"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="M"><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier">M</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unM"><a href="Reactive.Banana.Types.html#unM"><span class="hs-identifier">unM</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#Moment"><span class="hs-identifier hs-type">Prim</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Moment</span></a><span> </span><a href="#local-1627451411"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-111"></a><span>
</span><a name="line-112"></a><span class="hs-comment">{-| The 'MomentIO' monad is used to add inputs and outputs
to an event network.
-}</span><span>
</span><a name="line-115"></a><span class="hs-keyword">newtype</span><span> </span><a name="MomentIO"><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier">MomentIO</span></a></a><span> </span><a name="local-1627451410"><a href="#local-1627451410"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="MIO"><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier">MIO</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unMIO"><a href="Reactive.Banana.Types.html#unMIO"><span class="hs-identifier">unMIO</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reactive.Banana.Internal.Combinators.html#Moment"><span class="hs-identifier hs-type">Prim</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">Moment</span></a><span> </span><a href="#local-1627451410"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-116"></a><span>
</span><a name="line-117"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">MonadIO</span><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-1912605957"><span class="hs-identifier">liftIO</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">liftIO</span><span>
</span><a name="line-118"></a><span>
</span><a name="line-119"></a><span class="hs-comment">{-| An instance of the 'MonadMoment' class denotes a computation
that happens at one particular moment in time.
Unlike the 'Moment' monad, it need not be pure anymore.
-}</span><span>
</span><a name="line-123"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-1627451408"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="MonadMoment"><a href="Reactive.Banana.Types.html#MonadMoment"><span class="hs-identifier">MonadMoment</span></a></a><span> </span><a name="local-1627451408"><a href="#local-1627451408"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-124"></a><span>    </span><span class="hs-identifier">liftMoment</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span> </span><a href="#local-1627451409"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627451408"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-1627451409"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-125"></a><span>
</span><a name="line-126"></a><span class="hs-keyword">instance</span><span> </span><a href="Reactive.Banana.Types.html#MonadMoment"><span class="hs-identifier hs-type">MonadMoment</span></a><span> </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span>   </span><span class="hs-keyword">where</span><span> </span><a name="local-1912664063"><a href="Reactive.Banana.Types.html#liftMoment"><span class="hs-identifier">liftMoment</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">id</span><span>
</span><a name="line-127"></a><span class="hs-keyword">instance</span><span> </span><a href="Reactive.Banana.Types.html#MonadMoment"><span class="hs-identifier hs-type">MonadMoment</span></a><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-1912664063"><a href="Reactive.Banana.Types.html#liftMoment"><span class="hs-identifier">liftMoment</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">unM</span><span>
</span><a name="line-128"></a><span>
</span><a name="line-129"></a><span class="hs-comment">-- boilerplate class instances</span><span>
</span><a name="line-130"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-805306541"><span class="hs-identifier">fmap</span></a><span> </span><a name="local-1627451426"><a href="#local-1627451426"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier hs-var">M</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-1627451426"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">unM</span><span>
</span><a name="line-131"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-132"></a><span>    </span><a name="local-805306542"><span class="hs-identifier">return</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier hs-var">M</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">return</span><span>
</span><a name="line-133"></a><span>    </span><a name="local-1627451424"><a href="#local-1627451424"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-805306539"><span class="hs-operator">&gt;&gt;=</span></a><span> </span><a name="local-1627451425"><a href="#local-1627451425"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier hs-var">M</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unM</span><span> </span><a href="#local-1627451424"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier">unM</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-1627451425"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-134"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Applicative</span><span> </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-135"></a><span>    </span><a name="local-805307120"><span class="hs-identifier">pure</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier hs-var">M</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">pure</span><span>
</span><a name="line-136"></a><span>    </span><a name="local-1627451422"><a href="#local-1627451422"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-805307119"><span class="hs-operator">&lt;*&gt;</span></a><span> </span><a name="local-1627451423"><a href="#local-1627451423"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier hs-var">M</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unM</span><span> </span><a href="#local-1627451422"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><span class="hs-identifier">unM</span><span> </span><a href="#local-1627451423"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-137"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">MonadFix</span><span> </span><a href="Reactive.Banana.Types.html#Moment"><span class="hs-identifier hs-type">Moment</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-805306543"><span class="hs-identifier">mfix</span></a><span> </span><a name="local-1627451421"><a href="#local-1627451421"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#M"><span class="hs-identifier hs-var">M</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">mfix</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unM</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-1627451421"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-138"></a><span>
</span><a name="line-139"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-805306541"><span class="hs-identifier">fmap</span></a><span> </span><a name="local-1627451420"><a href="#local-1627451420"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-1627451420"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">unMIO</span><span>
</span><a name="line-140"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-141"></a><span>    </span><a name="local-805306542"><span class="hs-identifier">return</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">return</span><span>
</span><a name="line-142"></a><span>    </span><a name="local-1627451418"><a href="#local-1627451418"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-805306539"><span class="hs-operator">&gt;&gt;=</span></a><span> </span><a name="local-1627451419"><a href="#local-1627451419"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unMIO</span><span> </span><a href="#local-1627451418"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier">unMIO</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-1627451419"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-143"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Applicative</span><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-144"></a><span>    </span><a name="local-805307120"><span class="hs-identifier">pure</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">pure</span><span>
</span><a name="line-145"></a><span>    </span><a name="local-1627451416"><a href="#local-1627451416"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-805307119"><span class="hs-operator">&lt;*&gt;</span></a><span> </span><a name="local-1627451417"><a href="#local-1627451417"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unMIO</span><span> </span><a href="#local-1627451416"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><span class="hs-identifier">unMIO</span><span> </span><a href="#local-1627451417"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-146"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">MonadFix</span><span> </span><a href="Reactive.Banana.Types.html#MomentIO"><span class="hs-identifier hs-type">MomentIO</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-805306543"><span class="hs-identifier">mfix</span></a><span> </span><a name="local-1627451415"><a href="#local-1627451415"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Reactive.Banana.Types.html#MIO"><span class="hs-identifier hs-var">MIO</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">mfix</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unMIO</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-1627451415"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-147"></a></pre></body></html>